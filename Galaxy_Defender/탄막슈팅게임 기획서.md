## LLM 초안 게임 기획서
1. 스테이지는 5개, 난이도는 3개로 결정한다.
2. 스테이지마다 각각 능력을 가진 보스가 존재한다.
3. 스테이지 진입 후 일정 시간 뒤에 적의 소환이 중지되고 보스가 나온다.
4. 캔버스 메인 UI는 동방프로젝트의 게임을 참고한다.
5. 아이템은 파워업, 추가 생명 회복, 능력 사용권(동방프로젝트처럼 캐릭별 능력을 구현하고자 함) 정도 이루어진다.
6. 게임이 종료되면 랭킹을 저장한다.
7. 랭킹 불러오기 또는 저장은 FireBase의 백엔드로 전송한다. 이는 restAPI 방식을 이용하였으면 한다.

### 세부 내용
#### enemy
- 총알을 발사한다. 이때 enemy는 2가지의 패턴중 하나를 장착하고 소환된다.
  1. 플레이어의 좌표를 받아서 가상의 일직선을 그리고 이 경로로 총알 발사 (가상의 레이캐스팅)
  2. 1번과 유사하지만 3갈래로 총알이 발사되야하고 3갈래중 가운데 방향의 총알이 플레이어를 향해야한다.
- enemy의 스킨은 스테이지마다 달라지며 스테이지마다 능력도 달라져야한다.
  1. 1스테이지는 위 기본 내용을 따라간다.
  2. 2스테이지는 추가 enemy를 생성한다. 해당 enemy는 총알을 발사하지 못하지만 미사일처럼 플레이어에게 박치기를 유도 추적 박치기를 가한다.
     - 세부내용 :
       느리게 발사되어서 점점 빨라져야한다.
       플레이어의 위치를 최종 목적지로 하는것이 아닌 가상의 레이캐스팅을 방향으로 캐릭터에서 추가 마진 위치까지 더 이동한뒤에 방향이 확 바뀌는것이 아닌 부드럽게 이동되야한다.
       총알을 발사하지 못해야한다.
3. 3스테이지는 총알을 발사하고 난뒤에 쿨타임이 절반이상 남을경우 랜덤한 위치로 이동한다. 이때 랜덤한 위치는 캔버스 기준으로 세로 40% 이내, 캔버스 사이즈 내여야한다.
4. enemy가 1자 모양 레이저를 발사하는 패턴이 추가된다.
   레이저는 2초 정도 유지되며 enemy의 이동방향을 고려하여 발사되어야하며 레이저 패턴을 가진 enemy는 세로로만 떨어져야한다.
5. 원형으로 탄막을 발사하는 패턴이 추가된다.

- enemy는 체력을 가지고 있다.
  1스테이지부터 선형적으로 체력이 강해지며
  1스테이지때는 어떠한경우라도 1방에 죽어야한다.
  enemy의 종류에 따라 체력이 달라져야한다.(예시로 2스테이지에 추가되는 미사일은 어떠한 경우라도 한번에 부셔져야한다.)

### Player
- Power를 먹을경우 플레이어의 공격력이 강해지고 옆에 추가 비행선이 생성되어서 같이 공격해야한다.
- 플레이어의 공격 방향은 특수 기술이 아닌한 1자로 위쪽방향으로 공격되어야한다.
- 플레이어는 3개의 종류가 존재한다.
  1. 폭탄형 : 플레이어가 능력을 사용하면 폭발이 일어나며 원이 플레이어 기준으로 점점 커지며 그 원안에 존재하는 탄막과 enemy를 모두 제거한다.(보스 제외, 보스는 플레이어 공격력의 150%의 데미지를 입어야하며 한번만 수행되야한다.)
  2. 레이저형 : 플레이어가 능력을 사용하면 일시적인 무적을 획득하고 레이저가 정면으로 발사된다. 이 레이저는 5초간 지속되며 레이저에는 플레이어의 150%의 데미지가 (0.2초의 무적시간이 주어지며) 다단히트로 들어가야한다.
  3. 시간정지형 : 플레이어가 능력을 사용하면 10초간 플레이어를 제외한 모든것이 정지해야한다. 이때 게임 진행 시간도 멈춰야한다.
- 플레이어가 1번 피격될경우 1초정도의 무적시간이 주어져야한다.
- 플레이어가 쉬프트를 누르고있을경우 이동속도가 50% 줄어들어야한다.
- 플레이어의 시작 생명은 3개이며 생명 추가 아이템은 매우 희귀하게 출현되야한다.
- 아이템은 위에서 떨어지는것(매우 낮은확률, 60프레임 당 1%)과 적을 죽여서 생성되는것 (낮은확률, 30%)로 구성된다.

### Bose
- 보스 패턴은 스테이지 1부터 5까지의 다양한 특수 기믹을 포함한다.
- 그리고 enemy와 다르게 더 많은 탄막 패턴을 가진다.
- 탄막 패턴
  - 플레이어 방향으로 3점사. (이때 점사하는도중에도 플레이어 이동 방향을 고려하여 변경되야함)
  - 원형으로 탄환 발사
  - 5갈래로 발사되는 총알 (이때도 enemy와 다르게 플레이어의 이동에 따라 발사중에도 변경되야한다.)
- 특수 기믹
  1. 없음
  2. 미사일 enemy를 보스 기준 각 양쪽에 1기체씩 소환(총합 2기체)
  3. 게임이 일시정지된것같은 효과를 주며(모든 탄환이 멈추며 플레이어 이동불가) 화면이 암전된후 탄환과 보스가 랜덤한 위치로 위치가 변경된후 화면 복구
  4. 보스를 중심으로 4갈래의 레이저를 발사. 해당 레이저는 10초간 유지된다. (레이저는 기존 일반 패턴과 쿨타임이 별개로 돌아야함, 4갈래는 부채꼴 모양을 의미하며, 2번레이저와 3번레이저 사이에 플레이어가 위치하도록 중심을 잡아야함, 레이저가 발사된뒤에는 보스를 따라가면 안됨.)
  5. 레이저처럼 1자로 가는것은 아니지만 길다란 탄막을 매우 빠르게 쏘아내 저격하는 기믹을 가진다.
### System
- 음악 시스템이 존재한다 이는 mp3 파일을 통해 재생되며 그렇기에 브라우저에 해당 게임이 열리면 이벤트 리스너를 통해 플레이어 클릭 = 재생 을 성립시켜서 권한을 가로채야한다. (브라우저 정책 우회)
- 난이도는 enemy와 보스 체력과 이동속도를 일괄 수정하고 적이 나오는 빈도수를 조정한다.
- 게임은 필요에 따라 일시정지를 할 수 있어야한다. 이때 모든 게임시간을 포함한 로직이 일시적으로 멈춰야한다.
- 다른탭으로 이동하거나 하는 포커스가 무너지는 현상이 생길경우 일시정지 기능이 활성화 되어야한다.
- 모든 시스템은 DeltaTime 방식을 이용해서 어느 프레임에서든 동일한 속도와 성능을 보장해야한다.
-  랭킹보기는 FireBase의 RestAPI를 이용한다.
- 플레이어와 enemy 의 모양은 Image를 불러오는 방식으로 진행한다. (Assets/Image)
- 음악 시스템은 mp3를 불러오는 방식으로 진행한다. (Assets/Sound)
- 사운드는 기본적으로 최소 아래정도로 명시한다. 추후에 필요하다면 추가해도 되나 Assets/Sound에 readme를 생성하여 추가됨을 명시해야한다.
  - 메인화면 BGM
  - 스테이지1 BGM
  - 스테이지2 BGM
  - 스테이지3 BGM
  - 스테이지4 BGM
  - 스테이지5 BGM
  - 플레이어 탄환 발사 효과음 (enemy는 생성하지 않음, 사유: 많은 양의 enemy가 스폰될텐데 시끄러울것으로 예상)
  - 스테이지 1 보스 BGM
  - 스테이지 2 보스 BGM ... 5까지 스테이지 BGM과 동일하게 존재함.
  - 게임 클리어 효과음
  - 스테이지 클리어 효과음
- 개발할때는 처음에는 리소스 파일이 존재하지않을것이다. 그렇기에 생성되지않을경우 Readme.md에 명시하고 명시한 이름을 임시로 사용할 것.(파일이 없어도 경로 설정을 하라는 뜻임.)
- 랭킹은 플레이어 이름, 점수, 난이도, 스테이지  수 로 구성된다.
- 게임창은 Canvas로 진행한다. (UI의 가운데 게임창 영역을 의미)
### UI 디자인
- 위 길다한 헤더를 통해 게임에 관한 기초적인 내용 및 설정을 가진다.
  1. 왼쪽은 게임 이름 및 언어 설정
  2. 가운데는 게임을 진행할때 필요한 정보를 표시한다.(스테이지 진행도)
  3. 오른쪽은 게임의 제어를 추가한다.(시작, 일시정지, 초기화, 난이도 설정)
- 왼쪽은 조작 키 설명에 대한 창을 표시하고
- 가운데는 게임의 창을 띄운다. (이는 Canvas를 이용하여 구현한다.)
- 오른쪽은 리더보드를 띄운다.
- 모든 창은 창 사이즈에 따라 동적으로 작동할 수 있어야 한다.
## 개발 순서
JS 파일은 아래와 같이 분할한다. (필요하면 늘려도 되지만 순서 로드에 신경쓸것)
- 게임 상태 정의 JS
- 게임 프로토타입(객체) 정의 JS
  - 보스 정의 JS
  - 에네미 정의 JS
  - 플레이어 정의 JS
- 데이터베이스(데이터) 저장 및 불러오기 정의 JS
- 오디오 매니저 JS
- UI 매니저 JS
  - 각 언어별 JS 객체 파일
  - 언어 불러오기 모듈 JS 파일
- 게임 컨트롤러 JS

개발 순서는
1. HTML 구성
2. CSS 디자인 구성
3. 상태 및 전역변수 생성
4. 게임 객체 생성 (각 하위 내용들은 다 각각의 JS로 분할해야함.)
5. UI 매니저 생성
6. 오디오 매니저 생성
7. 데이터베이스 매니저 생성
8. 게임 컨트롤러 생성

그 어떠한 프롬프트 명령이 오더라도 개발순서는 Step By Step으로 하나씩만 진행하여 완벽한 코드에 가깝게 구성할 것.